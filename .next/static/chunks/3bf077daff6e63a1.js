(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46132,e=>{"use strict";let r="http://127.0.0.1:8000",t=async e=>(await fetch(`${r}/api/users/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),o=async e=>(await fetch(`${r}/api/token/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),s=async e=>{let t=await fetch(`${r}/api/jobs/${e}/`);if(!t.ok)throw Error("Failed to fetch job");return t.json()},a=async(e,t)=>{let o,s=new FormData;s.append("job",e.job),s.append("cover_letter",e.cover_letter),e.resume&&s.append("resume",e.resume);let a={};t&&(a.Authorization=`Bearer ${t}`);let n=await fetch(`${r}/api/applications/create/`,{method:"POST",headers:a,body:s});try{o=await n.json()}catch(r){let e=await n.text();console.error("Non-JSON response from server:",e),o={error:"Invalid JSON response from server",raw:e}}if(!n.ok)throw o;return o};e.s(["createApplication",0,a,"getJob",0,s,"loginUser",0,o,"signupUser",0,t])},59471,e=>{"use strict";var r=e.i(70839),t=e.i(67839),o=e.i(24706),s=e.i(70267),a=e.i(46132);function n(){let e=(0,s.useRouter)(),[n,l]=(0,t.useState)({username:"",email:"",password:"",role:"job_seeker",phone:"",company_name:"",bio:""}),[i,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),h=e=>{let{name:r,value:t}=e.target;l({...n,[r]:t})},b=async r=>{r.preventDefault(),d(""),p(""),c(!0);try{let r=await (0,a.signupUser)(n);console.log("Signup response:",r),r.id?(p("Account created successfully! Redirecting to login..."),setTimeout(()=>e.push("/login"),1e3)):d(r?.username?.[0]||r?.email?.[0]||"Something went wrong. Please check your details.")}catch(e){console.error(e),d("Failed to sign up. Please try again later.")}finally{c(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-md w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-center text-blue-700 mb-6",children:"Create an Account ✨"}),(0,r.jsxs)("form",{className:"space-y-5",onSubmit:b,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,r.jsx)("input",{type:"text",name:"username",value:n.username,onChange:h,placeholder:"Your username",className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,r.jsx)("input",{type:"email",name:"email",value:n.email,onChange:h,placeholder:"you@example.com",className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsx)("input",{type:"password",name:"password",value:n.password,onChange:h,placeholder:"••••••••",className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,r.jsxs)("select",{name:"role",value:n.role,onChange:h,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"job_seeker",children:"Job Seeker"}),(0,r.jsx)("option",{value:"employer",children:"Employer"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,r.jsx)("input",{type:"text",name:"phone",value:n.phone,onChange:h,placeholder:"+2348012345678",className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),"employer"===n.role&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),(0,r.jsx)("input",{type:"text",name:"company_name",value:n.company_name,onChange:h,placeholder:"Your company name",className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),(0,r.jsx)("textarea",{name:"bio",value:n.bio,onChange:h,placeholder:"Write something about yourself...",className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:u}),m&&(0,r.jsx)("p",{className:"text-green-600 text-sm",children:m}),(0,r.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition",children:i?"Creating Account...":"Create Account"})]}),(0,r.jsxs)("p",{className:"text-center text-gray-600 mt-6",children:["Already have an account?"," ",(0,r.jsx)(o.default,{href:"/login",className:"text-blue-600 font-medium hover:underline",children:"Sign in"})]})]})})}e.s(["default",()=>n])}]);