{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DEV-OLAJUMOKE/Desktop/Remote/my-app/utils/api.js"],"sourcesContent":["const BASE_URL = \"http://127.0.0.1:8000\"; \r\n\r\n// Signup\r\nexport const signupUser = async (data) => {\r\n  const res = await fetch(`${BASE_URL}/api/users/create/`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  });\r\n  return res.json();\r\n};\r\n\r\n// Login\r\nexport const loginUser = async (data) => {\r\n  const res = await fetch(`${BASE_URL}/api/token/`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  });\r\n  return res.json();\r\n};\r\n\r\n// Get all users\r\nexport const getAllUsers = async () => {\r\n  const res = await fetch(`${BASE_URL}/api/users/all/`);\r\n  return res.json();\r\n};\r\n\r\n// Get single user\r\nexport const getUser = async (id) => {\r\n  const res = await fetch(`${BASE_URL}/api/users/${id}/`);\r\n  return res.json();\r\n};\r\n\r\n// Create a job\r\nexport const createJob = async (data, token) => {\r\n  const res = await fetch(`${BASE_URL}/api/jobs/create/`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(data),\r\n  });\r\n  return res.json();\r\n};\r\n\r\n// Get all jobs\r\nexport const getAllJobs = async () => {\r\n  const res = await fetch(`${BASE_URL}/api/jobs/all/`);\r\n  return res.json();\r\n};\r\n\r\n\r\n\r\n// Get single job\r\nexport const getJob = async (id) => {\r\n  const res = await fetch(`${BASE_URL}/api/jobs/${id}/`);\r\n  return res.json();\r\n};\r\n\r\n\r\n// Apply for a job\r\nexport const createApplication = async (data, token) => {\r\n  const formData = new FormData();\r\n  formData.append(\"job\", data.job);\r\n  formData.append(\"applicant\", data.applicant);\r\n  formData.append(\"cover_letter\", data.cover_letter);\r\n  if (data.resume) formData.append(\"resume\", data.resume);\r\n\r\n  const res = await fetch(`${BASE_URL}/api/applications/create/`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: formData,\r\n  });\r\n  return res.json();\r\n};\r\n\r\n// Get all applications\r\nexport const getAllApplications = async () => {\r\n  const res = await fetch(`${BASE_URL}/api/applications/all/`);\r\n  return res.json();\r\n};\r\n\r\n// Get single application\r\nexport const getApplication = async (id) => {\r\n  const res = await fetch(`${BASE_URL}/api/applications/${id}/`);\r\n  return res.json();\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,WAAW;AAGV,MAAM,aAAa,OAAO;IAC/B,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,kBAAkB,CAAC,EAAE;QACvD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,YAAY,OAAO;IAC9B,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,WAAW,CAAC,EAAE;QAChD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,cAAc;IACzB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,eAAe,CAAC;IACpD,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,UAAU,OAAO;IAC5B,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,WAAW,EAAE,GAAG,CAAC,CAAC;IACtD,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,YAAY,OAAO,MAAM;IACpC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,iBAAiB,CAAC,EAAE;QACtD,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,aAAa;IACxB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,cAAc,CAAC;IACnD,OAAO,IAAI,IAAI;AACjB;AAKO,MAAM,SAAS,OAAO;IAC3B,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,UAAU,EAAE,GAAG,CAAC,CAAC;IACrD,OAAO,IAAI,IAAI;AACjB;AAIO,MAAM,oBAAoB,OAAO,MAAM;IAC5C,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,OAAO,KAAK,GAAG;IAC/B,SAAS,MAAM,CAAC,aAAa,KAAK,SAAS;IAC3C,SAAS,MAAM,CAAC,gBAAgB,KAAK,YAAY;IACjD,IAAI,KAAK,MAAM,EAAE,SAAS,MAAM,CAAC,UAAU,KAAK,MAAM;IAEtD,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,yBAAyB,CAAC,EAAE;QAC9D,QAAQ;QACR,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;QACA,MAAM;IACR;IACA,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,qBAAqB;IAChC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,sBAAsB,CAAC;IAC3D,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,iBAAiB,OAAO;IACnC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,kBAAkB,EAAE,GAAG,CAAC,CAAC;IAC7D,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DEV-OLAJUMOKE/Desktop/Remote/my-app/context/AuthContext.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\n\r\nconst AuthContext = createContext();\r\n\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);       \r\n  const [token, setToken] = useState(null);     \r\n  const [loading, setLoading] = useState(true);\r\n\r\n  \r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    const storedToken = localStorage.getItem(\"token\");\r\n\r\n    if (storedUser && storedToken) {\r\n      setUser(JSON.parse(storedUser));\r\n      setToken(storedToken);\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n\r\n  const login = (userData, jwtToken) => {\r\n    setUser(userData);\r\n    setToken(jwtToken);\r\n    localStorage.setItem(\"user\", JSON.stringify(userData));\r\n    localStorage.setItem(\"token\", jwtToken);\r\n  };\r\n\r\n  // Function to logout\r\n  const logout = () => {\r\n    setUser(null);\r\n    setToken(null);\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"token\");\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, token, login, logout, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAKA,MAAM,4BAAc,IAAA,mOAAa;AAG1B,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8NAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8NAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8NAAQ,EAAC;IAGvC,IAAA,+NAAS,EAAC;QACR,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,cAAc,aAAa,OAAO,CAAC;QAEzC,IAAI,cAAc,aAAa;YAC7B,QAAQ,KAAK,KAAK,CAAC;YACnB,SAAS;QACX;QACA,WAAW;IACb,GAAG,EAAE;IAGL,MAAM,QAAQ,CAAC,UAAU;QACvB,QAAQ;QACR,SAAS;QACT,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC5C,aAAa,OAAO,CAAC,SAAS;IAChC;IAEA,qBAAqB;IACrB,MAAM,SAAS;QACb,QAAQ;QACR,SAAS;QACT,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,2PAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAO;YAAQ;QAAQ;kBAChE;;;;;;AAGP;AAGO,MAAM,UAAU,IAAM,IAAA,gOAAU,EAAC","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DEV-OLAJUMOKE/Desktop/Remote/my-app/app/jobs/%5Bid%5D/apply/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\nimport { createApplication } from \"@/utils/api\"; // You already have this!\r\nimport { useAuth } from \"@/context/AuthContext\"; // if you’re storing token in context\r\n\r\nexport default function ApplyPage() {\r\n  const { id } = useParams(); // job ID\r\n  const router = useRouter();\r\n  const [coverLetter, setCoverLetter] = useState(\"\");\r\n  const [resume, setResume] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const { token, user } = useAuth(); // assuming you have auth context\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    const data = {\r\n      job: id,\r\n      applicant: user?.id,\r\n      cover_letter: coverLetter,\r\n      resume,\r\n    };\r\n\r\n    try {\r\n      const response = await createApplication(data, token);\r\n      if (response.id) {\r\n        setMessage(\"✅ Application submitted successfully!\");\r\n        setTimeout(() => router.push(\"/jobs\"), 2000);\r\n      } else {\r\n        setMessage(\"❌ Failed to apply. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error applying:\", error);\r\n      setMessage(\"⚠️ Something went wrong.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"max-w-xl mx-auto py-12 px-6\">\r\n      <h1 className=\"text-3xl font-bold mb-6 text-gray-900\">\r\n        Apply for Job #{id}\r\n      </h1>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n        <div>\r\n          <label className=\"block font-medium mb-1 text-gray-700\">\r\n            Cover Letter\r\n          </label>\r\n          <textarea\r\n            value={coverLetter}\r\n            onChange={(e) => setCoverLetter(e.target.value)}\r\n            required\r\n            className=\"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            rows=\"5\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-medium mb-1 text-gray-700\">\r\n            Upload Resume\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            onChange={(e) => setResume(e.target.files[0])}\r\n            required\r\n            className=\"block w-full border border-gray-300 rounded-lg p-2\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={loading}\r\n          className=\"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold hover:bg-blue-700 transition\"\r\n        >\r\n          {loading ? \"Submitting...\" : \"Submit Application\"}\r\n        </button>\r\n      </form>\r\n\r\n      {message && <p className=\"mt-4 text-center text-gray-700\">{message}</p>}\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA,iNAAiD,yBAAyB;AAC1E,qOAAiD,qCAAqC;AALtF;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,IAAA,4JAAS,KAAI,SAAS;IACrC,MAAM,SAAS,IAAA,4JAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,8NAAQ,EAAC;IAC/C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,8NAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8NAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8NAAQ,EAAC;IACvC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,IAAA,8IAAO,KAAI,iCAAiC;IAEpE,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QAEX,MAAM,OAAO;YACX,KAAK;YACL,WAAW,MAAM;YACjB,cAAc;YACd;QACF;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,8IAAiB,EAAC,MAAM;YAC/C,IAAI,SAAS,EAAE,EAAE;gBACf,WAAW;gBACX,WAAW,IAAM,OAAO,IAAI,CAAC,UAAU;YACzC,OAAO;gBACL,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mBAAmB;YACjC,WAAW;QACb,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,2PAAC;QAAQ,WAAU;;0BACjB,2PAAC;gBAAG,WAAU;;oBAAwC;oBACpC;;;;;;;0BAGlB,2PAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,2PAAC;;0CACC,2PAAC;gCAAM,WAAU;0CAAuC;;;;;;0CAGxD,2PAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,QAAQ;gCACR,WAAU;gCACV,MAAK;;;;;;;;;;;;kCAIT,2PAAC;;0CACC,2PAAC;gCAAM,WAAU;0CAAuC;;;;;;0CAGxD,2PAAC;gCACC,MAAK;gCACL,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;gCAC5C,QAAQ;gCACR,WAAU;;;;;;;;;;;;kCAId,2PAAC;wBACC,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,UAAU,kBAAkB;;;;;;;;;;;;YAIhC,yBAAW,2PAAC;gBAAE,WAAU;0BAAkC;;;;;;;;;;;;AAGjE","debugId":null}}]
}