{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DEV-OLAJUMOKE/Desktop/Remote/my-app/utils/api.js"],"sourcesContent":["const BASE_URL = \"http://127.0.0.1:8000\";\r\n\r\n// ------------------ USERS ------------------\r\n\r\n// Signup\r\nexport const signupUser = async (data) => {\r\n  const res = await fetch(`${BASE_URL}/api/users/create/`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  });\r\n  return res.json();\r\n};\r\n\r\n// Login\r\nexport const loginUser = async (data) => {\r\n  const res = await fetch(`${BASE_URL}/api/token/`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  });\r\n  return res.json();\r\n};\r\n\r\n// Get all users\r\nexport const getAllUsers = async () => {\r\n  const res = await fetch(`${BASE_URL}/api/users/all/`);\r\n  return res.json();\r\n};\r\n\r\n// Get single user\r\nexport const getUser = async (id) => {\r\n  const res = await fetch(`${BASE_URL}/api/users/${id}/`);\r\n  return res.json();\r\n};\r\n\r\n// ------------------ JOBS ------------------\r\n\r\n// Create a job\r\nexport const createJob = async (data, token) => {\r\n  const res = await fetch(`${BASE_URL}/api/jobs/create/`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(data),\r\n  });\r\n  return res.json();\r\n};\r\n\r\n// Get all jobs\r\nexport const getAllJobs = async () => {\r\n  const res = await fetch(`${BASE_URL}/api/jobs/all/`);\r\n  return res.json();\r\n};\r\n\r\n// Get single job\r\nexport const getJob = async (id) => {\r\n  const res = await fetch(`${BASE_URL}/api/jobs/${id}/`);\r\n  if (!res.ok) throw new Error(\"Failed to fetch job\");\r\n  return res.json();\r\n};\r\n\r\n// ------------------ APPLICATIONS ------------------\r\n\r\n// Apply for a job (public or logged-in)\r\nexport const createApplication = async (data, token) => {\r\n  const formData = new FormData();\r\n  formData.append(\"job\", data.job);\r\n  formData.append(\"cover_letter\", data.cover_letter);\r\n  if (data.resume) formData.append(\"resume\", data.resume);\r\n\r\n  const headers = {};\r\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\r\n\r\n  const res = await fetch(`${BASE_URL}/api/applications/create/`, {\r\n    method: \"POST\",\r\n    headers,\r\n    body: formData,\r\n  });\r\n\r\n  let responseData;\r\n  try {\r\n    responseData = await res.json();\r\n  } catch (err) {\r\n    const text = await res.text();\r\n    console.error(\"Non-JSON response from server:\", text);\r\n    responseData = { error: \"Invalid JSON response from server\", raw: text };\r\n  }\r\n\r\n  if (!res.ok) throw responseData;\r\n  return responseData;\r\n};\r\n\r\n// Get all applications\r\nexport const getAllApplications = async () => {\r\n  const res = await fetch(`${BASE_URL}/api/applications/all/`);\r\n  return res.json();\r\n};\r\n\r\n// Get single application\r\nexport const getApplication = async (id) => {\r\n  const res = await fetch(`${BASE_URL}/api/applications/${id}/`);\r\n  return res.json();\r\n};\r\n\r\n// Update an application\r\nexport const updateApplication = async (id, data) => {\r\n  const formData = new FormData();\r\n  if (data.cover_letter) formData.append(\"cover_letter\", data.cover_letter);\r\n  if (data.resume) formData.append(\"resume\", data.resume);\r\n\r\n  const res = await fetch(`${BASE_URL}/api/applications/${id}/`, {\r\n    method: \"PUT\",\r\n    body: formData,\r\n  });\r\n\r\n  let responseData;\r\n  try {\r\n    responseData = await res.json();\r\n  } catch (err) {\r\n    const text = await res.text();\r\n    console.error(\"Non-JSON response from server:\", text);\r\n    responseData = { error: \"Invalid JSON response from server\", raw: text };\r\n  }\r\n\r\n  if (!res.ok) throw responseData;\r\n  return responseData;\r\n};\r\n\r\n// Delete an application\r\nexport const deleteApplication = async (id) => {\r\n  const res = await fetch(`${BASE_URL}/api/applications/${id}/`, {\r\n    method: \"DELETE\",\r\n  });\r\n  if (!res.ok) {\r\n    const text = await res.text();\r\n    throw { error: \"Failed to delete application\", raw: text };\r\n  }\r\n  return { message: \"Deleted successfully\" };\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["C:/Users/DEV-OLAJUMOKE/Desktop/Remote/my-app/app/jobs/[id]/apply/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getJob, createApplication } from \"@/utils/api\";\r\n\r\nexport default function ApplyPage() {\r\n  const { id } = useParams();\r\n  const router = useRouter();\r\n  const [job, setJob] = useState(null);\r\n  const [coverLetter, setCoverLetter] = useState(\"\");\r\n  const [resume, setResume] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchJobDetails = async () => {\r\n      try {\r\n        const data = await getJob(id);\r\n        setJob(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching job:\", error);\r\n      }\r\n    };\r\n    if (id) fetchJobDetails();\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage(\"\");\r\n\r\n    try {\r\n      await createApplication({ job: id, cover_letter: coverLetter, resume }, null); \r\n      setMessage(\"✅ Application submitted successfully!\");\r\n      setTimeout(() => router.push(\"/jobs\"), 2000);\r\n    } catch (err) {\r\n      console.error(\"Error submitting application:\", err);\r\n      setMessage(err.error || \"❌ Failed to submit application. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!job) return <p className=\"text-center mt-20\">Loading job details...</p>;\r\n\r\n  return (\r\n    <section className=\"max-w-xl mx-auto py-12 px-6\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Apply for {job.title}</h1>\r\n      <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n        <div>\r\n          <label className=\"block mb-1\">Cover Letter</label>\r\n          <textarea\r\n            value={coverLetter}\r\n            onChange={(e) => setCoverLetter(e.target.value)}\r\n            required\r\n            rows={5}\r\n            className=\"w-full border p-3 rounded-lg\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-1\">Upload Resume</label>\r\n          <input\r\n            type=\"file\"\r\n            onChange={(e) => setResume(e.target.files[0])}\r\n            required\r\n            className=\"w-full border p-2 rounded-lg\"\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          disabled={loading}\r\n          className=\"w-full bg-blue-600 text-white py-3 rounded-xl\"\r\n        >\r\n          {loading ? \"Submitting...\" : \"Submit Application\"}\r\n        </button>\r\n      </form>\r\n      {message && <p className=\"mt-4 text-center\">{message}</p>}\r\n    </section>\r\n  );\r\n}\r\n"],"names":["useParams","useRouter","useState","useEffect","getJob","createApplication","ApplyPage","id","router","job","setJob","coverLetter","setCoverLetter","resume","setResume","loading","setLoading","message","setMessage","fetchJobDetails","data","error","console","handleSubmit","e","preventDefault","cover_letter","setTimeout","push","err","title","target","value","files"],"mappings":"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","ignoreList":[],"debugId":null}}]
}