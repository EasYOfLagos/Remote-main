module.exports=[22096,a=>{"use strict";let b="http://127.0.0.1:8000",c=async a=>(await fetch(`${b}/api/users/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json(),d=async a=>(await fetch(`${b}/api/token/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json(),e=async a=>{let c=await fetch(`${b}/api/jobs/${a}/`);if(!c.ok)throw Error("Failed to fetch job");return c.json()},f=async(a,c)=>{let d,e=new FormData;e.append("job",a.job),e.append("cover_letter",a.cover_letter),a.resume&&e.append("resume",a.resume);let f={};c&&(f.Authorization=`Bearer ${c}`);let g=await fetch(`${b}/api/applications/create/`,{method:"POST",headers:f,body:e});try{d=await g.json()}catch(b){let a=await g.text();console.error("Non-JSON response from server:",a),d={error:"Invalid JSON response from server",raw:a}}if(!g.ok)throw d;return d};a.s(["createApplication",0,f,"getJob",0,e,"loginUser",0,d,"signupUser",0,c])},48612,a=>{"use strict";var b=a.i(88761),c=a.i(39981),d=a.i(99386),e=a.i(22096);function f(){let{id:a}=(0,c.useParams)(),f=(0,c.useRouter)(),[g,h]=(0,d.useState)(null),[i,j]=(0,d.useState)(""),[k,l]=(0,d.useState)(null),[m,n]=(0,d.useState)(!1),[o,p]=(0,d.useState)("");(0,d.useEffect)(()=>{let b=async()=>{try{let b=await (0,e.getJob)(a);h(b)}catch(a){console.error("Error fetching job:",a)}};a&&b()},[a]);let q=async b=>{b.preventDefault(),n(!0),p("");try{await (0,e.createApplication)({job:a,cover_letter:i,resume:k},null),p("✅ Application submitted successfully!"),setTimeout(()=>f.push("/jobs"),2e3)}catch(a){console.error("Error submitting application:",a),p(a.error||"❌ Failed to submit application. Please try again.")}finally{n(!1)}};return g?(0,b.jsxs)("section",{className:"max-w-xl mx-auto py-12 px-6",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold mb-6",children:["Apply for ",g.title]}),(0,b.jsxs)("form",{onSubmit:q,className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block mb-1",children:"Cover Letter"}),(0,b.jsx)("textarea",{value:i,onChange:a=>j(a.target.value),required:!0,rows:5,className:"w-full border p-3 rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block mb-1",children:"Upload Resume"}),(0,b.jsx)("input",{type:"file",onChange:a=>l(a.target.files[0]),required:!0,className:"w-full border p-2 rounded-lg"})]}),(0,b.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white py-3 rounded-xl",children:m?"Submitting...":"Submit Application"})]}),o&&(0,b.jsx)("p",{className:"mt-4 text-center",children:o})]}):(0,b.jsx)("p",{className:"text-center mt-20",children:"Loading job details..."})}a.s(["default",()=>f])}];

//# sourceMappingURL=my-app_16eab05b._.js.map